<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Add New Book</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>
      $(document).ready(function () {
        var clearForm = function () {
          $("#txt_error").hide();

          $("#title").val("");
          $("#author").val("");
          $("#isbn").val("");
          $("#price").val("");
        };
        $("#btn_save").click(function () {
          $("#text_error").html("");

          var title = $.trim($("#title").val());
          var author = $.trim($("#author").val());
          var isbn = $.trim($("#isbn").val());
          var price = $.trim($("#price").val());

          if (title === "") {
            $("#text_error").html("Enter Title Name");
            $("#title").focus();
            return false;
          }

          if (author === "") {
            $("#text_error").html("Enter Author Name");
            $("#author").focus();
            return false;
          }

          if (isbn === "") {
            $("#text_error").html("Enter ISBN Value");
            $("#isbn").focus();
            return false;
          }

          if (price === "") {
            $("#text_error").html("Enter Price Value");
            $("#price").focus();
            return false;
          }

          clearForm();
          return true;
        });
      });
    </script>
  </head>
  <body>
    <div class="container mt-5">
      <div class="row">
        <div class="col-8 mx-auto">
          <div class="card">
            <div class="card-body">
              <h1 class="text-center">Add New Book</h1>
              <h4 id="text_error" class="text-danger"></h4>
              <form
                th:action="@{/saveBook}"
                th:object="${book}"
                method="post"
                class="mt-2"
              >
                <div class="form-group">
                  <label for="title">Title:</label>
                  <input
                    type="text"
                    id="title"
                    th:field="*{title}"
                    class="form-control mt-2"
                  />
                </div>

                <div class="form-group mt-3">
                  <label for="author">Author:</label>
                  <input
                    type="text"
                    id="author"
                    th:field="*{author}"
                    class="form-control mt-2"
                  />
                </div>

                <div class="form-group mt-3">
                  <label for="isbn">ISBN:</label>
                  <input
                    type="text"
                    id="isbn"
                    th:field="*{isbn}"
                    class="form-control mt-2"
                  />
                </div>

                <div class="form-group mt-3">
                  <label for="price">Price:</label>
                  <input
                    type="text"
                    id="price"
                    th:field="*{price}"
                    class="form-control mt-2"
                  />
                </div>

                <button
                  type="button"
                  id="btn_save"
                  class="mt-4 w-100"
                  style="
                    background-color: #4caf50;
                    color: #fff;
                    height: 3rem;
                    border-radius: 0.5rem;
                    border: none;
                  "
                >
                  Save
                </button>
              </form>
              <a
                href="/SLM/index.html"
                class="d-flex justify-content-center mt-2"
                style="color: black; font-size: 1.2rem; text-decoration: none"
                >Back to Home</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
